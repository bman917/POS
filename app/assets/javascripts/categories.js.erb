<% url = POS::Application.routes.url_helpers %>

function open_category_form()
{
  $('#modal_form').foundation('reveal', 'open', {
    url: '<%=url.new_category_path%>',
    error: foundation_reveal_utils_handle_error
  });
}

function listen_to_open_category_form(e) {
    if (e.which == 65) {
      open_category_form();
    }
}

function bind_open_category_form()
{
  $(document).on('keyup', listen_to_open_category_form);
  $('#modal_form').unbind();
}

function unbind_open_category_form()
{
  $(document).unbind('keyup', listen_to_open_category_form);
  $('#modal_form').unbind();
  $('#modal_form').on('closed.fndtn.reveal', bind_open_category_form);
}

function category_form_focus()
{
  $('#category_name').focus();
}

function bind_focus_on_category_form_open()
{
  $('#modal_form').on('opened.fndtn.reveal', category_form_focus);
}